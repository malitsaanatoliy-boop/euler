#include <iostream>
#include <cmath>
#include <string>
using namespace std;

bool prime(int n){
    if(n<2) return false;
    for(int i=2;i*i<=n;i++) if(n%i==0) return false;
    return true;
}

bool circ(int n){
    string s=to_string(n);
    for(int i=0;i<s.size();i++){
        if(!prime(stoi(s))) return false;
        s=s.substr(1)+s[0];
    }
    return true;
}

int main(){
    int count=0;
    for(int i=2;i<1000000;i++) if(circ(i)) count++;
    cout<<count;
    return 0;
}